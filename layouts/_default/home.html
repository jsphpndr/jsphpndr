{{- define "main" -}}
  {{- .Store.Set "hasTwic" true -}}
  {{- .Store.Set "hasObscure" true -}}
  <!-- Profile — START -->
  <header class="[ profile ][ grid ]">
    <!-- Cover Image — START -->
    {{- with .Params.cover -}}
    {{- $image := (printf "/uploads/%s" .image) -}}
    <figure class="[ profile__cover cover ]">
      <picture id="cover" class="[ bg ]">
        <style>#cover {background-image: url('https://{{ $.Site.Params.twic }}.twic.pics{{ $image }}?twic=v1/output=preview'); }</style>
        <img data-twic-src="image:{{ $image }}" data-twic-focus="auto" alt="{{ .alt }}" width="683" height="385"/>
        <noscript><img class="[ script ]" src="https://{{ $.Site.Params.twic }}.twic.pics{{ $image }}?twic=v1/output=preview" alt="{{ .alt }}" width="683" height="385"/></noscript>
      </picture>
    </figure>
    {{- end -}}
    <!-- Cover Image — END -->
    <div class="[ deets ][ flex ]">
      <!-- Avatar — START -->
      {{- with .Params.avatar -}}
      {{- $image := (printf "/uploads/%s" .image) -}}
      <figure class="[ profile__avatar ]">
        <picture id="avatar" class="[ bg ]">
          <style>#avatar {background-image: url('https://{{ $.Site.Params.twic }}.twic.pics{{ $image }}?twic=v1/output=preview');}</style>
          <img data-twic-src="image:{{ $image }}" data-twic-focus="auto" alt="{{ .alt }}" width="90" height="90"/>
          <noscript><img class="[ script ]" src="https://{{ $.Site.Params.twic }}.twic.pics{{ $image }}?twic=v1/output=preview" alt="{{ .alt }}" width="90" height="90"/></noscript>
        </picture>
      </figure>
      {{- end -}}
      <!-- Avatar — END -->
      <div class="[ profile__info ]">
        <div>
          <h1 class="[ flex middle font--2 ]">
            <span class="[ profile__name ]">Hey, I'm Joseph</span><span class="[ hidden ]">Pinder</span>
            {{- readFile "static/icons/verified.svg" | safeHTML -}}
          </h1>
          <small class="[ profile__username ]">@jsphpndr</small>
        </div>
        <template obscure data-p1="hello" data-p2="josephpinder.com">
          <div class="[ profile__status ][ flex ]">
            <b class="[ profile__status-indicator ]"></b>
            <a class="[ reel ]" href="mailto:%1@%2">
              <span class="[ availability ]">Available for work</span>
              <span class="[ flex middle ]">
                <span>Hire Me</span>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 3C2.355 3 1 4.355 1 6v12c0 1.645 1.355 3 3 3h16c1.645 0 3-1.355 3-3V6c0-1.645-1.355-3-3-3H4zm0 2h16c.571 0 1 .429 1 1v.451l-8.502 5.403a.938.938 0 0 1-.996 0L3 6.45V6c0-.571.429-1 1-1zM3 8.82l7.434 4.725a1 1 0 0 0 .005.002 2.944 2.944 0 0 0 3.122 0 1 1 0 0 0 .005-.002L21 8.82V18c0 .571-.429 1-1 1H4c-.571 0-1-.429-1-1V8.82z"/></svg>
              </span>
            </a>
          </div>
        </template>
      </div>
    </div>
    <div class="[ profile__bio ]">
      {{ .Content }}
    </div>
    <div class="[ codebase ]">
      <div class="[ set ]"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 512 512" role="img"><title>HTML5</title><path fill="currentColor" d="M40.75 10h430.5l-39.155 442.041L255.528 502 79.968 452.021Zm144.136 199.875-4.756-55.719 206.209.061 4.715-53.75-270.108-.062 14.309 164.205h187.083l-6.683 70.233L256 351.325l-60.577-16.605-3.855-43.255h-53.484l6.765 85.505L256 406.695l110.27-29.581 15.252-167.219H184.886z"/></svg><small>HTML 5</small></div>
      <div class="[ set ]"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 512 512"><path d="M10 10v413.28A78.72 78.72 0 0 0 88.72 502h334.56A78.72 78.72 0 0 0 502 423.28V88.72A78.72 78.72 0 0 0 423.28 10Zm292.11 268.115c14.903 0 26.445 4.58 34.539 13.697 8.388 9.171 12.679 22.278 13.023 39.43H316.62a35.535 35.535 0 0 0-3.307-16.266c-1.874-3.74-5.525-5.613-10.952-5.613-9.672 0-14.509 5.76-14.509 17.244 0 5.82 1.186 10.352 3.553 13.8a32.069 32.069 0 0 0 12.481 8.581l12.187 5.373c12.58 5.766 21.659 12.817 27.238 21.343 5.574 8.477 8.383 19.812 8.383 34.007 0 17.003-4.487 30.061-13.466 39.178-8.979 9.117-21.461 13.702-37.397 13.702-15.941 0-28.123-4.634-36.66-13.948-8.437-9.363-12.825-22.72-13.219-40.167h34.336c.197 15.429 5.625 23.163 16.286 23.163 5.422 0 9.27-1.722 11.44-5.126 2.223-3.395 3.305-8.822 3.305-16.261 0-5.914-1.426-10.844-4.29-14.735a36.014 36.014 0 0 0-14.504-10.402L284.796 379c-11.35-5.422-19.585-11.827-24.668-19.32-4.935-7.445-7.4-17.89-7.4-31.243 0-14.937 4.34-27.06 12.975-36.379 8.88-9.313 20.969-13.943 36.408-13.943zm110.907 0c14.908 0 26.45 4.58 34.587 13.697 8.29 9.171 12.63 22.278 12.98 39.43h-33.058a35.535 35.535 0 0 0-3.306-16.266c-1.87-3.74-5.525-5.613-10.952-5.613-9.668 0-14.504 5.76-14.504 17.244 0 5.82 1.18 10.352 3.552 13.8a32.069 32.069 0 0 0 12.482 8.581l12.186 5.373c12.58 5.766 21.659 12.817 27.233 21.343 5.624 8.477 8.388 19.812 8.388 34.007 0 17.003-4.442 30.061-13.47 39.178-8.979 9.117-21.461 13.702-37.392 13.702h-.006c-15.936 0-28.123-4.634-36.654-13.948-8.438-9.363-12.83-22.72-13.224-40.167H396.2c.196 15.429 5.617 23.163 16.274 23.163 5.432 0 9.28-1.722 11.499-5.126 2.17-3.395 3.306-8.822 3.306-16.261 0-5.914-1.48-10.844-4.344-14.735a36.014 36.014 0 0 0-14.504-10.402L395.703 379c-11.345-5.422-19.586-11.827-24.668-19.32-4.935-7.445-7.4-17.89-7.4-31.243 0-14.937 4.345-27.06 12.974-36.379 8.88-9.313 20.97-13.943 36.408-13.943zm-225.415.252c15.444 0 27.626 4.433 36.654 13.205 9.132 8.822 13.717 21.933 13.717 39.428v6.554h-36.358v-6.357c0-6.75-1.481-11.729-4.345-14.98a13.018 13.018 0 0 0-10.656-5.078c-5.92 0-10.112 2.017-12.483 6.11a38.888 38.888 0 0 0-3.306 18.037v71.96c0 15.03 5.284 22.67 15.793 22.818 4.93 0 8.63-1.775 11.198-5.322a25.456 25.456 0 0 0 3.799-14.987v-5.368h36.358v5.619c0 11.68-2.268 21.436-6.858 29.225a43.69 43.69 0 0 1-18.794 17.544 59.758 59.758 0 0 1-26.987 5.816c-15.597 0-27.975-4.24-37.151-12.718-9.176-8.423-13.717-21.093-13.717-37.85v-82.799c0-16.654 4.837-29.274 14.505-37.948 9.82-8.576 22.696-12.91 38.631-12.91z"/></svg><small>CSS</small></div>
      <div class="[ set ]"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" role="img"><title>Javascript</title><path d="M10 10v492h492V10Zm369.7 223.224c27.828-.56 45.226 6.78 57.994 21.046 3.553 3.6 6.454 7.483 11.877 15.9-14.824 9.447-14.779 9.354-36.01 23.104-4.538-9.774-12.067-15.9-20.016-18.567-12.348-3.743-27.923.328-31.148 13.375-1.124 4.023-.889 7.763.889 14.406 5.002 11.411 21.792 16.368 36.853 23.288 43.354 17.586 57.992 36.433 61.593 58.881 3.462 19.316-.842 31.851-1.498 33.721-15.993 54.72-105.18 56.495-140.817 20.343-7.53-8.508-12.253-12.952-16.742-22.774 18.94-10.898 18.94-10.898 37.367-21.56 10.007 15.386 19.268 23.851 35.917 27.311 22.59 2.76 45.319-5.004 40.221-28.994-5.237-19.596-46.254-24.368-74.175-45.319-28.341-19.035-34.98-65.287-11.692-91.713 7.764-9.774 21-17.07 34.89-20.577 4.818-.609 9.68-1.262 14.497-1.87zm-148.253 2.9h46.02c0 42.324.232 84.51 0 126.694.094 25.862 2.338 49.246-8.138 68.56-7.248 14.733-21.093 24.415-37.134 29.092-24.648 5.656-48.217 2.43-65.755-8.092-11.74-7.2-20.906-18.287-27.127-31.053 12.488-7.623 24.929-15.294 37.414-22.918.328.143 1.31 1.918 2.62 4.211 4.771 7.997 8.887 13.655 16.976 17.63 7.952 2.712 25.397 4.445 32.13-9.54 4.115-7.108 2.806-30.305 2.806-55.609 0-39.75.188-79.223.188-118.975z"/></svg><small>Javascript</small></div>
      <div class="[ set ]"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 512 512"><title>PHP</title><path d="M48.933 183.395H121.9c21.416.18 36.935 6.355 46.557 18.514 9.621 12.16 12.796 28.767 9.529 49.824-1.27 9.621-4.084 19.058-8.44 28.315-4.177 9.257-9.981 17.604-17.425 25.048-9.077 9.437-18.786 15.426-29.132 17.97-10.346 2.542-21.056 3.81-32.127 3.81h-32.67l-10.347 51.73H10l38.933-195.21m31.855 31.037-16.336 81.678a20.03 20.03 0 0 0 3.267.273h3.812c17.425.18 31.947-1.541 43.562-5.173 11.614-3.812 19.423-17.06 23.414-39.75 3.267-19.059 0-30.042-9.801-32.944-9.622-2.902-21.689-4.264-36.211-4.084a76.21 76.21 0 0 1-6.262.272h-5.718l.273-.272M221.094 131.394h37.572l-10.618 52.001h33.76c18.514.365 32.307 4.177 41.384 11.435 9.257 7.259 11.98 21.057 8.168 41.384l-18.242 90.663h-38.116l17.425-86.58c1.813-9.076 1.268-15.518-1.634-19.33-2.902-3.811-9.164-5.717-18.786-5.717l-30.22-.272-22.326 111.899h-37.572l39.205-195.483M371.706 183.395h72.966c21.416.18 36.935 6.355 46.556 18.514 9.622 12.16 12.796 28.767 9.53 49.824-1.27 9.621-4.085 19.058-8.44 28.315-4.177 9.257-9.982 17.604-17.425 25.048-9.077 9.437-18.786 15.426-29.132 17.97-10.346 2.542-21.057 3.81-32.127 3.81h-32.671l-10.346 51.73h-37.844l38.933-195.21m31.854 31.037-16.335 81.678a20.03 20.03 0 0 0 3.267.273h3.811c17.425.18 31.947-1.541 43.562-5.173 11.615-3.812 19.423-17.06 23.415-39.75 3.267-19.059 0-30.042-9.802-32.944-9.621-2.902-21.688-4.264-36.21-4.084a76.21 76.21 0 0 1-6.262.272h-5.718l.272-.272"/></svg><small>PHP</small></div>
      <div class="[ set ]"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" xml:space="preserve" role="img"><title>Kirby CMS</title><path d="m256 10 210.857 122.978v246.044L256 502 45.143 379.022V132.978ZM68.571 146.971V365.03L256 474.342 443.429 365.03V146.97L256 37.658Z"/><path d="m349.714 256-58.571 30.34v4.803h58.571V338H162.286v-46.857h58.571v-5.12L162.286 256v-58.571L256 247.765l93.714-50.336"/></svg><small>Kirby CMS</small></div>
      <div class="[ set ]"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="-4 0 168.96 168.96" role="img"><title>Laravel</title><path d="M159.249 40.03c.058.217.088.44.088.664v34.85c0 .91-.487 1.751-1.276 2.204L128.81 94.59v33.38c0 .908-.484 1.746-1.271 2.204l-61.058 35.149c-.14.079-.292.13-.445.184-.057.019-.11.054-.171.07a2.557 2.557 0 0 1-1.302 0c-.07-.02-.134-.057-.2-.083-.14-.05-.286-.095-.42-.171L2.9 130.172a2.543 2.543 0 0 1-1.276-2.203V23.419a2.6 2.6 0 0 1 .088-.668c.02-.073.064-.14.09-.213.047-.133.091-.27.161-.394.048-.082.118-.149.175-.225.073-.102.14-.207.226-.295.073-.074.168-.128.25-.191.093-.076.175-.159.28-.22h.003L33.42 3.64a2.547 2.547 0 0 1 2.541 0l30.524 17.575h.006c.102.063.188.143.28.216.082.063.175.12.248.19.088.092.152.197.228.299.054.076.127.143.172.225.073.128.114.26.165.394.025.073.07.14.089.216.058.217.088.44.089.664V88.72l25.436-14.646V40.691c0-.223.032-.448.089-.66.022-.077.063-.144.089-.217.05-.133.095-.27.165-.394.047-.082.117-.15.171-.225.077-.102.14-.207.229-.296.073-.073.165-.127.248-.19.095-.076.178-.16.28-.22h.002l30.527-17.574a2.544 2.544 0 0 1 2.541 0l30.525 17.575c.108.063.19.143.285.216.08.063.172.12.245.19.089.092.152.197.229.299.057.076.127.143.171.225.073.124.115.26.165.394.029.073.07.14.09.216zm-5 34.043v-28.98l-10.682 6.15-14.757 8.496v28.98l25.442-14.646Zm-30.524 52.425v-29l-14.516 8.29-41.45 23.658v29.272ZM6.711 27.818v98.68l55.96 32.217v-29.266l-29.235-16.546-.01-.006-.013-.006c-.098-.057-.18-.14-.273-.21-.08-.063-.171-.114-.241-.183l-.006-.01c-.083-.08-.14-.178-.21-.267-.063-.086-.14-.159-.19-.248l-.003-.01c-.058-.095-.092-.21-.134-.318-.041-.095-.095-.184-.12-.285v-.003c-.032-.121-.039-.248-.051-.372-.013-.095-.038-.19-.038-.286V42.463l-14.754-8.5L6.71 27.82Zm27.983-19.04L9.261 23.419l25.427 14.64 25.429-14.643-25.43-14.636Zm13.226 91.363 14.754-8.493v-63.83l-10.682 6.149-14.757 8.496v63.83zm78.35-74.087-25.43 14.64 25.43 14.64 25.425-14.643zm-2.545 33.685-14.757-8.497-10.682-6.149v28.98l14.754 8.494 10.685 6.152zm-58.513 65.307 37.299-21.293 18.644-10.64-25.41-14.63L66.49 95.325l-26.665 15.35Z"/></svg><small>Laravel</small></div>
    </div>
  </header>
  <!-- Profile — END -->
  <!-- Posts — START -->
  <section>
    <h2 class="[ tag-header ]">Recent posts </h2>
    <ul class="[ posts ]">
      {{- $format := "January 2, 2006" -}}
      {{- $iso := "2006-01-02T15:04:05Z07:00" -}}
      {{- range sort (where .Site.RegularPages "Section" "blog") "Date" "desc" | first 3  -}}
      <li class="[ post ]">
        <a class="[ post__link ]" href="{{ .RelPermalink }}" data-prefetch>
          <h3 class="[ font--2 ]">{{ .LinkTitle }}</h3>
          <time class="[ font--small ]" datetime="{{ .Date.Format $iso }}">{{ .Date.Format $format }}</time>
          <p>{{ .Summary | strings.Truncate 145 "[...]" | plainify }}</p>
        </a>
      </li>
      {{- end -}}
    </ul>
    <a class="[ link link--arrow ][ flex ]" href="/blog/" data-prefetch>
      <span>More posts</span>
      {{ readFile "static/long-arrow-left.svg" | safeHTML }}
    </a>
  </section>
  <!-- Posts - END -->
  <!-- Projects - START -->
  <!--
    <section>
      <h2 class="[ tag-header ]">Recent projects</h2>
      <ul class="[ projects ][ grid md:gx--2 ]">
        <li>
          <a class="[ project_link ][ grid ]" href="/projects">
            <h3>Public Holiday API</h3>
            <small>An API built to access Bahamian public holiday data.</small>
            <figure class="[ cover ]">
              <picture class="[ bg ]">
                <style>
                  picture {
                    background-image: url('https://clvrmktg.twic.pics/home/smiling-woman-drinking-coffee.jpg?twic=v1/output=preview');
                  }
                </style>
                <img data-twic-src="image:home/smiling-woman-drinking-coffee.jpg" data-twic-focus="auto" alt="My wife, Garnell and I"/>
                <noscript>
                <img class="[ script ]" src="https://clvrmktg.twic.pics/home/smiling-woman-drinking-coffee.jpg?twic=v1/output=preview"/></noscript>
              </picture>
            </figure>
          </a>
        </li>
      </ul>
      <a class="[ link link--arrow ][ flex ]" href="/projects">
        <span>More projects</span>
        {{ readFile "static/long-arrow-left.svg" | safeHTML }}
      </a>
    </section>
  -->
  <!-- Projects - END -->
  
{{- end -}}